---
# 当前页面内容标题
title: 六、企业面试真题(面试重点)
# 分类
category:
  - Java
# 标签
tag:
  - Java
  - zookeeper
  - 分布式
sticky: false
# 是否收藏在博客主题的文章列表中，当填入数字时，数字越大，排名越靠前。
star: false
# 是否将该文章添加至文章列表中
article: true
# 是否将该文章添加至时间线中
timeline: true
---

## 01、选举机制

半数机制，超过半数的投票通过，即通过。

（1） 第一次启动选举规则： 

`投票过半数时，服务器 id 大的胜出`

（2） 第二次启动选举规则：

- `①EPOCH 大的直接胜出 `

- `②EPOCH 相同，事务 id 大的胜出`

- `③事务 id 相同，服务器 id 大的胜出`

## 02、生产集群安装多少zk合适？

安装奇数台。

**生产经验：**

- 10 台服务器：3 台 zk；

- 20 台服务器：5 台 zk；

- 100 台服务器：11 台 zk；

- 200 台服务器：11 台 zk

**服务器台数多：好处，提高可靠性；坏处：提高通信延时**

### 03、常用命令

CRUD：

1. C
   - create
2. R
   - ls
   - ls2
   - get
   - stat
3. U
   - set
4. D
   - delete
   - rmr
5. help